
// Enhanced local fallback worker for PDF.js
console.log('Loading PDF.js local worker...');

// Import the actual PDF.js worker from unpkg as fallback
try {
  importScripts('https://unpkg.com/pdfjs-dist@5.3.31/build/pdf.worker.min.js');
  console.log('PDF.js worker loaded successfully from unpkg');
} catch (error) {
  console.error('Failed to load PDF.js worker from unpkg:', error);
  
  // Try alternative CDN
  try {
    importScripts('https://cdn.jsdelivr.net/npm/pdfjs-dist@5.3.31/build/pdf.worker.min.js');
    console.log('PDF.js worker loaded successfully from jsdelivr');
  } catch (secondError) {
    console.error('All PDF.js worker sources failed:', secondError);
    throw new Error('PDF.js worker could not be loaded from any source');
  }
}
